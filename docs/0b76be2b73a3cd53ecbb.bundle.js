(()=>{"use strict";const e=async(e,n)=>{tiempo.innerHTML="";try{const t=`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${n}&lang=es&units=metric&&appid=a7bc5ba85ffdd89602ed4583829f24a4`,o=await fetch(t),a=await o.json();console.log(a),tiempo.innerHTML=`\n        <div class="carta">\n        <h3><img src="http://openweathermap.org/img/wn/${a.weather[0].icon}.png"></h3>\n        <p>Tiempo: ${a.weather[0].description}</p>\n        <p>Sensación térmica: ${a.main.feels_like}ºC</p>\n        <p>Nivel sobre el suelo: ${a.main.grnd_level}m</p>\n        <p>Humedad ambiente: ${a.main.humidity}%</p>\n        <p>Presión atmosférica: ${a.main.pressure}hPa</p>\n        <p>Nivel del mar: ${a.main.sea_level}m</p>\n        <p>Temperatura: ${a.main.temp}ºC</p>\n        <p>Temperatura máxima: ${a.main.temp_max}ºC</p>\n        <p>Temperatura máxima: ${a.main.temp_min}ºC</p>\n        </div>`}catch{throw error}},n=document.getElementById("tiempo"),t=document.getElementById("comboBreaker20"),o=document.getElementById("topping");let a={lat:"",lng:""},s=0;const i=document.getElementById("ciudad");i.addEventListener("keypress",(c=>{"Enter"===c.key&&(async i=>{try{const n=`https://api.opencagedata.com/geocode/v1/json?q=${i}&key=8b7694eff07149098e5f5f529a322c15`,c=await fetch(n),l=await c.json();if(console.log(l),l.results.length>1)t.disabled=!1,t.innerHTML="<option>Seleccione ciudad con ese nombre</option>",l.results.forEach((e=>{(e.components.city||e.components.village)&&e.components.country?t.innerHTML+=`<option value="${s++}">${e.components.city?e.components.city:e.components.village?e.components.village:""}-${e.components.city||e.components.village?e.components.country:""}</option>`:(t.innerHTML+="",s++)})),t.addEventListener("change",(()=>{const n=parseInt(t.value);console.log(n),a={lat:Math.round(l.results[n].geometry.lat),lng:Math.round(l.results[n].geometry.lng)},s=0,console.log(a),o.classList.remove("inicio"),o.classList.add("buscado"),e(a.lat,a.lng)}));else{let n=t.children;console.log(n),o.classList.remove("inicio"),o.classList.add("buscado"),a={lat:Math.round(l.results[0].geometry.lat),lng:Math.round(l.results[0].geometry.lng)},e(a.lat,a.lng)}}catch{throw n.innerHTML="",o.classList.add("inicio"),o.classList.remove("buscado"),error}})(i.value)}))})();
//# sourceMappingURL=0b76be2b73a3cd53ecbb.bundle.js.map